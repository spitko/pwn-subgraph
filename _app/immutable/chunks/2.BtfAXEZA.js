const __vite__fileDeps=["./client.CL_zYgXq.js","./session.Cfr_vwnx.js","./scheduler.CTjjRqxY.js","./control.CYgJF_JY.js"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
var Yt=Object.defineProperty;var Gt=(r,e,t)=>e in r?Yt(r,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):r[e]=t;var _=(r,e,t)=>(Gt(r,typeof e!="symbol"?e+"":e,t),t),st=(r,e,t)=>{if(!e.has(r))throw TypeError("Cannot "+t)};var I=(r,e,t)=>(st(r,e,"read from private field"),t?t.call(r):e.get(r)),Z=(r,e,t)=>{if(e.has(r))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(r):e.set(r,t)},Y=(r,e,t,s)=>(st(r,e,"write to private field"),s?s.call(r,t):e.set(r,t),t);var Ft=(r,e,t,s)=>({set _(i){Y(r,e,i,t)},get _(){return I(r,e,s)}}),de=(r,e,t)=>(st(r,e,"access private method"),t);import{f as ot,s as Xt,n as ct,y as Zt}from"./scheduler.CTjjRqxY.js";import{g as Ot,c as Ut,i as xt,R as es}from"./session.Cfr_vwnx.js";import{_ as ts}from"./preload-helper.D6kgxu3v.js";import{S as ss,i as is,e as T,s as j,c as E,a as C,y as Pe,f as $,d as A,o as ne,g as Ne,h as p,z as it,t as U,b as x,j as ee}from"./index.CRE6UDEM.js";function je(r){return(r==null?void 0:r.length)!==void 0?r:Array.from(r)}const ns={watchSchema:{url:"https://api.studio.thegraph.com/query/25077/pwn/version/latest"},plugins:{"houdini-svelte":{}}},rs=[];var as=rs;function pt(r){return{defaultKeys:["id"],...r,types:{Node:{keys:["id"],resolve:{queryField:"node",arguments:e=>({id:e.id})}},...r.types}}}function Ht(r,e){var s,i;const t=pt(r);return((i=(s=t.types)==null?void 0:s[e])==null?void 0:i.keys)||t.defaultKeys}function ls(r,e,t){const s=Ht(r,e);let i="";for(const n of s)i+=t[n]+"__";return i.slice(0,-2)}let nt=null;function Ys(r){var e;return((e=r.router)==null?void 0:e.apiEndpoint)??"/_api"}function Ze(){if(nt)return nt;let r=pt(ns);for(const e of as)r=e(r);return nt=r,r}function qt(r){const e=[...r.matchAll(/\$HOUDINI\$(\w*\$)?/g)];if(e.length===0)return[r];let t=r.replaceAll(/\$HOUDINI\$(\w*\$)?/g,"%c"),s=[];for(const i of e){const n=i[1]?`color:${i[1].slice(0,-1)}`:"";s.push(n)}return[t,...s]}function os(r){console.error(...qt(r))}function cs(r){console.log(...qt(r))}const Se={CacheOrNetwork:"CacheOrNetwork",CacheOnly:"CacheOnly",NetworkOnly:"NetworkOnly",CacheAndNetwork:"CacheAndNetwork",NoCache:"NoCache"},He={Query:"HoudiniQuery",Subscription:"HoudiniSubscription",Mutation:"HoudiniMutation",Fragment:"HoudiniFragment"},ds=He.Query,rt={Cache:"cache",Network:"network",Ssr:"ssr"},yt=" $fragments",us=Symbol("houdini_loading");let ze=null;async function gt(){return ze||(ze=(await ts(()=>import("./client.CL_zYgXq.js"),__vite__mapDeps([0,1,2,3]),import.meta.url)).default,ze)}function Ct(){if(!ze)throw new Error("client hasn't been initialized");return ze}function et(r,e,t=new WeakMap){if(Object.is(r,e))return!0;if(r instanceof Date&&e instanceof Date)return r.getTime()===e.getTime();if(r instanceof RegExp&&e instanceof RegExp)return r.toString()===e.toString();if(typeof r!="object"||r===null||typeof e!="object"||e===null)return!1;if(t.get(r)===e)return!0;t.set(r,e);const s=Reflect.ownKeys(r),i=Reflect.ownKeys(e);if(s.length!==i.length)return!1;for(let n=0;n<s.length;n++)if(!Reflect.has(e,s[n])||!et(r[s[n]],e[s[n]],t))return!1;return!0}function ve(r,e,t){if(t)return r.loadingTypes&&r.loadingTypes.length>0?Kt(...r.loadingTypes.map(i=>{var n;return(n=r.abstractFields)==null?void 0:n.fields[i]})):r.fields??{};let s=r.fields||{};if(r.abstractFields&&e){const i=r.abstractFields.typeMap[e];i?s=r.abstractFields.fields[i]:r.abstractFields.fields[e]&&(s=r.abstractFields.fields[e])}return s}function Kt(...r){const e={};for(let t of r)if(t){for(let s in t)if(s in t){const i=t[s];typeof i=="object"&&i!==null&&!Array.isArray(i)?e[s]=Kt(e[s]||{},i):e[s]=i}}return e}async function Rt({selection:r,data:e}){const t=Ze();if(e===null||typeof e>"u")return e;if(Array.isArray(e))return await Promise.all(e.map(i=>Rt({selection:r,data:i})));const s=ve(r,e.__typename,!1);return Object.fromEntries(await Promise.all(Object.entries(e).map(async([i,n])=>{var c;if(i===yt)return[i,n];const{type:a,selection:l}=s[i];if(!a)return[i,n];if(l)return[i,await Rt({selection:l,data:n})];if((c=t.scalars)!=null&&c[a]){const o=t.scalars[a].marshal;if(!o)throw new Error(`scalar type ${a} is missing a \`marshal\` function. see https://github.com/AlecAivazis/houdini#%EF%B8%8Fcustom-scalars`);return Array.isArray(n)?[i,n.map(o)]:[i,o(n)]}return[i,n]})))}function dt({artifact:r,input:e,config:t,rootType:s="@root"}){if(e===null||typeof e>"u"||!r.input)return e;const i=s==="@root"?r.input.fields:r.input.types[s];return Array.isArray(e)?e.map(n=>dt({artifact:r,input:n,rootType:s,config:t})):Object.fromEntries(Object.entries(e).map(([n,a])=>{var o,d;const l=i==null?void 0:i[n];if(!l)return[n,a];const c=(d=(o=t.scalars)==null?void 0:o[l])==null?void 0:d.marshal;return c?Array.isArray(a)?[n,a.map(c)]:[n,c(a)]:fs(t,l)||!r.input.types[l]?[n,a]:[n,dt({artifact:r,input:a,rootType:l,config:t})]}))}function fs(r,e){return["String","Boolean","Float","ID","Int"].concat(Object.keys(r.scalars||{})).includes(e)}const $e=[],at=()=>{};var ge,ke,Ye;class hs{constructor(e,t=at){_(this,"state");Z(this,ge,void 0);Z(this,ke,void 0);Z(this,Ye,void 0);this.state=e,Y(this,ge,new Set),Y(this,ke,null),Y(this,Ye,t)}set(e){if(ps(this.state,e)&&(this.state=e,I(this,ke))){const t=!$e.length;for(const s of I(this,ge))s[1](),$e.push(s,this.state);if(t){for(let s=0;s<$e.length;s+=2)$e[s][0]($e[s+1]);$e.length=0}}}update(e){this.set(e(this.state))}subscribe(e,t=at){const s=[e,t];return I(this,ge).add(s),I(this,ge).size===1&&Y(this,ke,I(this,Ye).call(this,this.set)||at),e(this.state),()=>{var i;I(this,ge).delete(s),I(this,ge).size===0&&((i=I(this,ke))==null||i.call(this),Y(this,ke,null))}}}ge=new WeakMap,ke=new WeakMap,Ye=new WeakMap;function ps(r,e){return r!=r?e==e:r!==e||r&&typeof r=="object"||typeof r=="function"}const Wt=({field:r,args:e})=>{const t=Object.keys(e??{});return t.sort(),e&&t.length>0?`${r}(${t.map(s=>`${s}: ${ut(e[s])}`).join(", ")})`:r},ut=r=>Array.isArray(r)?`[${r.map(e=>`${ut(e)}`).join(", ")}]`:typeof r!="object"||r instanceof Date||r===null?JSON.stringify(r).replace(/"([^"]+)":/g,"$1: "):`{${Object.keys(r).map(e=>`${e}: ${ut(r[e])}`).join(", ")}}`;function me(r){return r?r.reduce((e,t)=>t?Array.isArray(t)?e.concat(me(t)):e.concat(t):e,[]):[]}class ys{constructor(e){_(this,"cache");_(this,"lifetimes",new Map);this.cache=e}get cacheBufferSize(){return this.cache._internal_unstable.config.cacheBufferSize??10}reset(){this.lifetimes.clear()}resetLifetime(e,t){this.lifetimes.get(e)||this.lifetimes.set(e,new Map),this.lifetimes.get(e).set(t,0)}tick(){const e=Date.now().valueOf(),t=this.cache._internal_unstable.config.defaultLifetime;for(const[s,i]of this.lifetimes.entries())for(const[n,a]of i.entries())if(!(this.cache._internal_unstable.subscriptions.get(s,n).length>0)&&(i.set(n,a+1),i.get(n)>this.cacheBufferSize&&(this.cache._internal_unstable.storage.deleteField(s,n),this.cache._internal_unstable.lists.deleteField(s,n),i.delete(n),[...i.keys()].length===0&&this.lifetimes.delete(s),this.cache._internal_unstable.staleManager.delete(s,n)),t&&t>0)){const l=this.cache.getFieldTime(s,n);l&&e-l>t&&this.cache._internal_unstable.staleManager.markFieldStale(s,n)}}}class gs{constructor(e,t){_(this,"rootID");_(this,"cache");_(this,"lists",new Map);_(this,"listsByField",new Map);this.rootID=t,this.cache=e}get(e,t,s){var c;const i=this.lists.get(e);if(!i||i.size===0)return null;if(s)return new tt(Array.from(i,([o,d])=>[...d.lists]).flat());const n=[...i.values()][0],{recordType:a}=n.lists[0],l=t?this.cache._internal_unstable.id(a||"",t):this.rootID;return(i==null?void 0:i.size)===1?t?l===Array.from(i.keys())[0]?n:null:n:t?(c=this.lists.get(e))==null?void 0:c.get(l):(console.error(`Found multiple instances of "${e}". Please provide one of @parentID or @allLists directives to help identify which list you want modify. For more information, visit this guide: https://www.houdinigraphql.com/api/graphql#parentidvalue-string `),null)}remove(e,t){var s;(s=this.lists.get(e))==null||s.delete(t||this.rootID)}add(e){var n,a,l;this.lists.has(e.name)||this.lists.set(e.name,new Map);const t=e.name,s=e.recordID||this.rootID;if((a=(n=this.lists.get(t))==null?void 0:n.get(s))!=null&&a.includes(e.key))return;this.lists.has(t)||this.lists.set(t,new Map),this.lists.get(t).has(s)||this.lists.get(t).set(s,new tt([])),this.listsByField.has(s)||this.listsByField.set(s,new Map),this.listsByField.get(s).has(e.key)||(l=this.listsByField.get(s))==null||l.set(e.key,[]);const i=new bs({...e,manager:this});this.lists.get(e.name).get(s).lists.push(i),this.listsByField.get(s).get(e.key).push(i)}removeIDFromAllLists(e,t){for(const s of this.lists.values())for(const i of s.values())i.removeID(e,void 0,t)}deleteField(e,t){var s,i,n,a,l,c;if((s=this.listsByField.get(e))!=null&&s.has(t)){for(const o of this.listsByField.get(e).get(t))(n=(i=this.lists.get(o.name))==null?void 0:i.get(o.recordID))==null||n.deleteListWithKey(t),((l=(a=this.lists.get(o.name))==null?void 0:a.get(o.recordID))==null?void 0:l.lists.length)===0&&((c=this.lists.get(o.name))==null||c.delete(o.recordID));this.listsByField.get(e).delete(t)}}reset(){this.lists.clear(),this.listsByField.clear()}}class bs{constructor({name:e,recordID:t,recordType:s,key:i,listType:n,selection:a,when:l,filters:c,connection:o,manager:d,abstract:f}){_(this,"recordID");_(this,"recordType");_(this,"key");_(this,"type");_(this,"cache");_(this,"selection");_(this,"_when");_(this,"filters");_(this,"name");_(this,"connection");_(this,"manager");_(this,"abstract");this.recordID=t||_e,this.recordType=s,this.key=i,this.type=n,this.cache=d.cache,this.selection=a,this._when=l,this.filters=c,this.name=e,this.connection=o,this.manager=d,this.abstract=f}when(e){return this.manager.lists.get(this.name).get(this.recordID).when(e)}append({selection:e,data:t,variables:s={},layer:i}){return this.addToList(e,t,s,"last",i)}prepend({selection:e,data:t,variables:s={},layer:i}){return this.addToList(e,t,s,"first",i)}addToList(e,t,s={},i,n){const a=this.listType(t),l=this.cache._internal_unstable.id(a,t);if(!this.validateWhen()||!l)return;let c=e,o=t;this.connection?(c={fields:{newEntry:{keyRaw:this.key,type:"Connection",selection:{fields:{edges:{keyRaw:"edges",type:"ConnectionEdge",updates:["append","prepend"],selection:{fields:{__typename:{keyRaw:"__typename",type:"String"},node:{type:a,keyRaw:"node",selection:{...e,fields:{...e.fields,__typename:{keyRaw:"__typename",type:"String"}}}}}}}}}}}},o={newEntry:{edges:[{__typename:a+"Edge",node:{...t,__typename:a}}]}}):(c={fields:{newEntries:{keyRaw:this.key,type:a,updates:["append","prepend"],selection:{...e,fields:{...e.fields,__typename:{keyRaw:"__typename",type:"String"}}}}}},o={newEntries:[{...t,__typename:a}]}),this.cache.write({selection:c,data:o,variables:s,parent:this.recordID,applyUpdates:[i==="first"?"prepend":"append"],layer:n==null?void 0:n.id})}removeID(e,t={},s){var o;if(!this.validateWhen())return;let i=this.recordID,n=e,a=this.key;if(this.connection){const{value:d}=this.cache._internal_unstable.storage.get(this.recordID,this.key);if(!d)return;const f=d,{value:h}=this.cache._internal_unstable.storage.get(f,"edges");for(const b of me(h)||[]){if(!b)continue;const g=b,{value:u}=this.cache._internal_unstable.storage.get(g,"node");u&&u===e&&(n=g)}i=f,a="edges"}let l=this.cache._internal_unstable.storage.get(i,a).value;if(!l||!l.includes(n))return;const c=this.cache._internal_unstable.subscriptions.get(this.recordID,this.key);this.cache._internal_unstable.subscriptions.remove(n,this.connection?this.selection.fields.edges.selection:this.selection,c.map(d=>d[0]),t),this.cache._internal_unstable.storage.remove(i,a,n,s);for(const[d]of c)d.set(this.cache._internal_unstable.getSelection({parent:d.parentID||this.manager.rootID,selection:d.selection,variables:((o=d.variables)==null?void 0:o.call(d))||{},ignoreMasking:!1}).data);return!0}remove(e,t={},s){const i=this.cache._internal_unstable.id(this.listType(e),e);if(i)return this.removeID(i,t,s)}listType(e){return e.__typename||this.type}validateWhen(e){let t=e||this._when,s=!0;if(t){const i=this.filters;t.must&&i&&(s=Object.entries(t.must).reduce((n,[a,l])=>!!(n&&i[a]==l),s)),t.must_not&&(s=!i||Object.entries(t.must_not).reduce((n,[a,l])=>!!(n&&i[a]!=l),s))}return s}toggleElement({selection:e,data:t,variables:s={},layer:i,where:n}){this.remove(t,s,i)||this.addToList(e,t,s,n,i)}*[Symbol.iterator](){let e=[],t=this.cache._internal_unstable.storage.get(this.recordID,this.key).value;this.connection?e=this.cache._internal_unstable.storage.get(t,"edges").value:e=me(t);for(let s of e)yield s}}class tt{constructor(e){_(this,"lists",[]);this.lists=e}get selection(){return this.lists[0].selection}append(...e){this.lists.forEach(t=>t.append(...e))}prepend(...e){this.lists.forEach(t=>t.prepend(...e))}addToList(...e){this.lists.forEach(t=>t.addToList(...e))}removeID(...e){this.lists.forEach(t=>t.removeID(...e))}remove(...e){this.lists.forEach(t=>t.remove(...e))}toggleElement(...e){this.lists.forEach(t=>t.toggleElement(...e))}when(e){return new tt(this.lists.filter(t=>t.validateWhen(e)))}includes(e){return!!this.lists.find(t=>t.key===e)}deleteListWithKey(e){return this.lists=this.lists.filter(t=>t.key!==e)}*[Symbol.iterator](){for(let e of this.lists)for(const t of e)yield t}}var Ge;class ms{constructor(e){_(this,"cache");_(this,"fieldsTime",new Map);Z(this,Ge,e=>{this.fieldsTime.get(e)||this.fieldsTime.set(e,new Map)});this.cache=e}getFieldTime(e,t){var s;return(s=this.fieldsTime.get(e))==null?void 0:s.get(t)}setFieldTimeToNow(e,t){var s;I(this,Ge).call(this,e),(s=this.fieldsTime.get(e))==null||s.set(t,new Date().valueOf())}markFieldStale(e,t){var s;I(this,Ge).call(this,e),(s=this.fieldsTime.get(e))==null||s.set(t,null)}markAllStale(){for(const[e,t]of this.fieldsTime.entries())for(const[s]of t.entries())this.markFieldStale(e,s)}markRecordStale(e){const t=this.fieldsTime.get(e);if(t)for(const[s]of t.entries())this.markFieldStale(e,s)}markTypeStale(e){for(const[t,s]of this.fieldsTime.entries())if(t.startsWith(`${e}:`))for(const[i]of s.entries())this.markFieldStale(t,i)}markTypeFieldStale(e,t,s){const i=Wt({field:t,args:s});for(const[n,a]of this.fieldsTime.entries())if(n.startsWith(`${e}:`))for(const l of a.keys())l===i&&this.markFieldStale(n,t)}delete(e,t){var s,i;this.fieldsTime.has(e)&&((s=this.fieldsTime.get(e))==null||s.delete(t),((i=this.fieldsTime.get(e))==null?void 0:i.size)===0&&this.fieldsTime.delete(e))}reset(){this.fieldsTime.clear()}}Ge=new WeakMap;class _s{constructor(){_(this,"data");_(this,"idCount",1);_(this,"rank",0);this.data=[]}get layerCount(){return this.data.length}get nextRank(){return this.rank++}createLayer(e=!1){const t=new ws(this.idCount++);return t.optimistic=e,this.data.push(t),t}insert(e,t,s,i){return this.topLayer.insert(e,t,s,i)}remove(e,t,s,i=this.topLayer){return i.remove(e,t,s)}delete(e,t=this.topLayer){return t.delete(e)}deleteField(e,t){return this.topLayer.deleteField(e,t)}getLayer(e){for(const t of this.data)if(t.id===e)return t;throw new Error("Could not find layer with id: "+e)}replaceID(e){for(const t of this.data)t.replaceID(e)}get(e,t,s){const i={[Ie.insert]:{[Bt.start]:[],[Bt.end]:[]},[Ie.remove]:new Set},n=[];for(let a=this.data.length-1;a>=0;a--){const l=this.data[a];let[c,o]=l.get(e,t);const d=l.getOperations(e,t)||[];if(l.deletedIDs.forEach(f=>{var h,b;(b=(h=l.operations[f])==null?void 0:h.undoDeletesInList)!=null&&b.includes(t)||i.remove.add(f)}),typeof c>"u"&&s){const f=this.topLayer;f.id,f.writeField(e,t,s),c=s}if(typeof c>"u"&&d.length===0){l.deletedIDs.size>0&&n.push(l.id);continue}if(typeof c<"u"&&!Array.isArray(c))return{value:c,kind:o,displayLayers:[l.id]};if(n.push(l.id),d.length>0){for(const f of d)if(Ds(f)&&i.remove.add(f.id),ks(f)&&i.insert[f.location].unshift(f.id),vs(f))return{value:void 0,kind:"unknown",displayLayers:[]}}if(!(typeof c>"u"))return!i.remove.size&&!i.insert.start.length&&!i.insert.end.length?{value:c,displayLayers:n,kind:"link"}:{value:[...i.insert.start,...c,...i.insert.end].filter(f=>!i.remove.has(f)),displayLayers:n,kind:o}}return{value:void 0,kind:"unknown",displayLayers:[]}}writeLink(e,t,s){return this.topLayer.writeLink(e,t,s)}writeField(e,t,s){return this.topLayer.writeField(e,t,s)}resolveLayer(e){let t=null;for(const[n,a]of this.data.entries())if(a.id===e){t=n-1,this.data[n].optimistic=!1;break}if(t===null)throw new Error("could not find layer with id: "+e);t===-1&&(t=0),this.data[t].optimistic&&t++;const s=this.data[t];let i=t;for(;i<this.data.length;){const n=this.data[i++];if(n.optimistic){i--;break}s.writeLayer(n)}this.data.splice(t+1,i-t-1)}get topLayer(){var e;return this.data.length===0&&this.createLayer(),(e=this.data[this.data.length-1])!=null&&e.optimistic&&this.createLayer(),this.data[this.data.length-1]}serialize(){return JSON.stringify({rank:this.rank,fields:Object.fromEntries(Object.entries(this.topLayer.fields).map(([e,t])=>[e,Object.fromEntries(Object.entries(t).filter(([s,i])=>typeof i!="function"))])),links:this.topLayer.links})}hydrate(e,t){if(!e)return;const{rank:s,fields:i,links:n}=e;this.rank=s,t??(t=this.createLayer(!0)),t.fields=i,t.links=n}reset(){this.data=[]}}class ws{constructor(e){_(this,"id");_(this,"optimistic",!1);_(this,"fields",{});_(this,"links",{});_(this,"operations",{});_(this,"deletedIDs",new Set);this.id=e}get(e,t){var s,i;return typeof((s=this.links[e])==null?void 0:s[t])<"u"?[this.links[e][t],"link"]:[(i=this.fields[e])==null?void 0:i[t],"scalar"]}getOperations(e,t){var s,i,n;if((s=this.operations[e])!=null&&s.deleted)return[{kind:Ie.delete,target:e}];if((n=(i=this.operations[e])==null?void 0:i.fields)!=null&&n[t])return this.operations[e].fields[t]}writeField(e,t,s){return this.fields[e]={...this.fields[e],[t]:s},this.id}writeLink(e,t,s){var n,a,l;const i=Array.isArray(s)?s:[s];for(const c of me(i)){if(!c)continue;const o=(n=this.operations[e])==null?void 0:n.fields[t];(a=this.operations[c])!=null&&a.deleted||this.deletedIDs.has(c)?this.operations[c]={...this.operations[c],undoDeletesInList:[...((l=this.operations[e])==null?void 0:l.undoDeletesInList)||[],t]}:c&&(o==null?void 0:o.length)>0&&(this.operations[e].fields[t]=o.filter(d=>d.kind!=="remove"||d.id!==c))}return this.links[e]={...this.links[e],[t]:s},this.id}isDisplayLayer(e){return e.length===0||e.includes(this.id)||Math.max(...e)<this.id}clear(){this.links={},this.fields={},this.operations={},this.deletedIDs=new Set}replaceID({from:e,to:t}){this.fields[t]=this.fields[e],this.links[t]=this.links[e],this.operations[t]=this.operations[e]||{fields:{}},this.deletedIDs.has(e)&&this.deletedIDs.add(t)}removeUndefinedFields(){for(const[e,t]of Object.entries(this.fields)){for(const[s,i]of Object.entries(t))if(typeof i>"u"){try{delete this.fields[e][s]}catch{}try{delete this.links[e][s]}catch{}}Object.keys(t||{}).length===0&&delete this.fields[e],Object.keys(this.links[e]||{}).length===0&&delete this.links[e]}}delete(e){this.operations={...this.operations,[e]:{...this.operations[e],deleted:!0,undoDeletesInList:[]}},this.deletedIDs.add(e)}deleteField(e,t){this.fields[e]={...this.fields[e],[t]:void 0}}insert(e,t,s,i){this.addFieldOperation(e,t,{kind:Ie.insert,id:i,location:s})}remove(e,t,s){this.addFieldOperation(e,t,{kind:Ie.remove,id:s})}writeLayer(e){if(e.id!==this.id){for(const[t,s]of Object.entries(e.operations)){const i={};for(const n of[this.operations[t],e.operations[t]].filter(Boolean))for(const[a,l]of Object.entries(n.fields||{}))i[a]=[...i[a]||[],...l];Object.keys(i).length>0&&(this.operations[t]={...this.operations[t],fields:i}),s!=null&&s.deleted&&(delete this.fields[t],delete this.links[t])}for(const[t,s]of Object.entries(e.fields))if(s)for(const[i,n]of Object.entries(s))this.writeField(t,i,n);for(const[t,s]of Object.entries(e.links))if(s)for(const[i,n]of Object.entries(s))this.writeLink(t,i,n);e.deletedIDs.forEach(t=>this.deletedIDs.add(t))}}addFieldOperation(e,t,s){var i;this.operations={...this.operations,[e]:{...this.operations[e],fields:{[t]:[...((i=this.operations[e])==null?void 0:i.fields[t])||[],s]}}}}}function vs(r){return!!r&&r.kind===Ie.delete}function ks(r){return!!r&&r.kind===Ie.insert}function Ds(r){return!!r&&r.kind===Ie.remove}const Bt={start:"start",end:"end"},Ie={delete:"delete",insert:"insert",remove:"remove"};function Je(r,e=null){let t="",s="",i=!1;for(const n of r){if(s){if(Ls.includes(n)){s+=n;continue}const a=e==null?void 0:e[s.slice(1)];t+=typeof a<"u"?JSON.stringify(a):"undefined",s=""}if(n==="$"&&!i){s="$";continue}n==='"'&&(i=!i),t+=n}return t}const Ls="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_0123456789";class Ss{constructor(e){_(this,"cache");_(this,"subscribers",new Map);_(this,"keyVersions",{});this.cache=e}activeFields(e){return Object.keys(this.subscribers.get(e)||{})}add({parent:e,spec:t,selection:s,variables:i,parentType:n}){const a=this.cache._internal_unstable.storage.get(e,"__typename").value;let l=ve(s,a,!1);for(const c of Object.values(l||{})){const{keyRaw:o,selection:d,type:f,list:h,filters:b,visible:g}=c;if(!g)continue;const u=Je(o,i);let v;if(d){const S=this.cache._internal_unstable.storage.get(e,"__typename").value;v=ve(d,S,!1)}if(this.addFieldSubscription({id:e,key:u,selection:[t,v],type:f}),h&&this.registerList({list:h,filters:b,id:e,key:u,variables:i,selection:d,parentType:n||t.rootType}),d){const{value:S}=this.cache._internal_unstable.storage.get(e,u);let m=Array.isArray(S)?me(S)||[]:[S];for(const D of m)D&&this.add({parent:D,spec:t,selection:d,variables:i,parentType:f})}}}addFieldSubscription({id:e,key:t,selection:s,type:i}){const n=s[0];this.subscribers.has(e)||this.subscribers.set(e,new Map);const a=this.subscribers.get(e);a.has(t)||a.set(t,{selections:[],referenceCounts:new Map});const l=a.get(t);this.keyVersions[t]||(this.keyVersions[t]=new Set),this.keyVersions[t].add(t),l.selections.some(([{set:c}])=>c===n.set)||l.selections.push([n,s[1]]),l.referenceCounts.set(n.set,(l.referenceCounts.get(n.set)||0)+1),this.cache._internal_unstable.lifetimes.resetLifetime(e,t)}registerList({list:e,id:t,key:s,parentType:i,selection:n,filters:a,variables:l}){var c;this.cache._internal_unstable.lists.add({name:e.name,connection:e.connection,recordID:t,recordType:((c=this.cache._internal_unstable.storage.get(t,"__typename"))==null?void 0:c.value)||i,listType:e.type,key:s,selection:n,filters:Object.entries(a||{}).reduce((o,[d,{kind:f,value:h}])=>({...o,[d]:f!=="Variable"?h:l[h]}),{})})}addMany({parent:e,variables:t,subscribers:s,parentType:i}){for(const[n,a]of s)for(const l of Object.values(a??{})){const{type:c,keyRaw:o,selection:d,list:f,filters:h}=l,b=Je(o,t),g=d?ve(d,i,!1):void 0;this.addFieldSubscription({id:e,key:b,selection:[n,g],type:c}),f&&this.registerList({list:f,filters:h,id:e,key:b,variables:t,selection:d,parentType:i||n.rootType});const u=l.selection;if(u){const{value:v}=this.cache._internal_unstable.storage.get(e,b),S=Array.isArray(v)?me(v):[v];for(const m of S){if(!m)continue;const D=this.cache._internal_unstable.storage.get(m,"__typename").value;let N=ve(u,D,!1);this.addMany({parent:m,variables:t,subscribers:s.map(([re])=>[re,N]),parentType:c})}}}}get(e,t){var s,i;return((i=(s=this.subscribers.get(e))==null?void 0:s.get(t))==null?void 0:i.selections)||[]}remove(e,t,s,i,n=[]){n.push(e);const a=[],l=this.cache._internal_unstable.storage.get(e,"__typename").value;let c=ve(t,l,!1);for(const o of Object.values(c||{})){const d=Je(o.keyRaw,i);if(this.removeSubscribers(e,d,s),!o.selection)continue;const{value:f}=this.cache._internal_unstable.storage.get(e,d),h=Array.isArray(f)?me(f):[f];for(const b of h)b!==null&&a.push([b,o.selection||{}])}for(const[o,d]of a)this.remove(o,d,s,n)}reset(){const e=[...this.subscribers.entries()].filter(([s])=>!s.startsWith(_e));for(const[s,i]of e)this.subscribers.delete(s);return e.flatMap(([s,i])=>[...i.values()].flatMap(n=>n.selections.map(([a])=>a)))}removeSubscribers(e,t,s){var l;let i=[];const n=this.subscribers.get(e);if(!n)return;const a=n.get(t);for(const c of s){const o=(l=n.get(t))==null?void 0:l.referenceCounts;if(!(o!=null&&o.has(c.set)))continue;const d=(o.get(c.set)||0)-1;o.set(c.set,d),d<=0&&(i.push(c.set),o.delete(c.set)),o.size===0&&n.delete(t)}a&&(a.selections=this.get(e,t).filter(([{set:c}])=>!i.includes(c))),n.size===0&&this.subscribers.delete(e)}removeAllSubscribers(e,t,s=[]){s.push(e);const i=this.subscribers.get(e);for(const[n,a]of(i==null?void 0:i.entries())??[]){const l=t||a.selections.map(([f])=>f);this.removeSubscribers(e,n,l);const{value:c,kind:o}=this.cache._internal_unstable.storage.get(e,n);if(o==="scalar")continue;const d=Array.isArray(c)?me(c):[c];for(const f of d)s.includes(f)||this.removeAllSubscribers(f,l,s)}}get size(){let e=0;for(const[,t]of this.subscribers)for(const[,{referenceCounts:s}]of t)e+=[...s.values()].reduce((i,n)=>i+n,0);return e}}var Is={},qe,Ue;class Qt{constructor({disabled:e,componentCache:t,createComponent:s,...i}={}){Z(this,qe);_(this,"_internal_unstable");this._internal_unstable=new Ts({cache:this,storage:new _s,subscriptions:new Ss(this),lists:new gs(this,_e),lifetimes:new ys(this),staleManager:new ms(this),disabled:e??typeof globalThis.window>"u",componentCache:t,createComponent:s}),Object.keys(i).length>0&&this.setConfig(pt(i))}write({layer:e,notifySubscribers:t=[],...s}){const i=e?this._internal_unstable.storage.getLayer(e):this._internal_unstable.storage.topLayer,n=this._internal_unstable.writeSelection({...s,layer:i}).map(a=>a[0]);return de(this,qe,Ue).call(this,n.concat(t)),n}read(...e){const{data:t,partial:s,stale:i,hasData:n}=this._internal_unstable.getSelection(...e);return n?{data:t,partial:s,stale:i}:{data:null,partial:!1,stale:!1}}subscribe(e,t={}){if(!this._internal_unstable.disabled)return this._internal_unstable.subscriptions.add({parent:e.parentID||_e,spec:e,selection:e.selection,variables:t})}unsubscribe(e,t={}){return this._internal_unstable.subscriptions.remove(e.parentID||_e,e.selection,[e],t)}list(e,t,s){const i=this._internal_unstable.lists.get(e,t,s);if(!i)throw new Error(`Cannot find list with name: ${e}${t?" under parent "+t:""}. Is it possible that the query is not mounted?`);return i}delete(e,t){this._internal_unstable.subscriptions.removeAllSubscribers(e),this._internal_unstable.lists.removeIDFromAllLists(e,t),this._internal_unstable.storage.delete(e,t)}setConfig(e){this._internal_unstable.setConfig(e)}markTypeStale(e){e?e.field?this._internal_unstable.staleManager.markTypeFieldStale(e.type,e.field,e.when):this._internal_unstable.staleManager.markTypeStale(e.type):this._internal_unstable.staleManager.markAllStale()}markRecordStale(e,t){if(t.field){const s=Wt({field:t.field,args:t.when??{}});this._internal_unstable.staleManager.markFieldStale(e,s)}else this._internal_unstable.staleManager.markRecordStale(e)}getFieldTime(e,t){return this._internal_unstable.staleManager.getFieldTime(e,t)}config(){return this._internal_unstable.config}serialize(){return this._internal_unstable.storage.serialize()}hydrate(...e){return this._internal_unstable.storage.hydrate(...e)}clearLayer(e){const t=this._internal_unstable.storage.getLayer(e);if(!t)throw new Error("Cannot find layer with id: "+e);const s=[],i=[];for(const a of[t.fields,t.links])for(const[l,c]of Object.entries(a))i.push(...Object.entries(c).map(([o,d])=>({id:l,field:o,value:d})));const n=[];for(const a of i){const{displayLayers:l}=this._internal_unstable.storage.get(a.id,a.field);l.includes(e)&&n.push(a)}for(const[a,l]of Object.entries(t.operations)){l.deleted&&n.push(...this._internal_unstable.subscriptions.activeFields(a).map(o=>({id:a,field:o})));const c=Object.keys(l.fields??{});c.length>0&&n.push(...c.map(o=>({id:a,field:o})))}t.clear();for(const a of n){const{field:l,id:c}=a;(!("value"in a)||this._internal_unstable.storage.get(c,l).value!==a.value)&&s.push(...this._internal_unstable.subscriptions.get(c,l).map(d=>d[0]))}de(this,qe,Ue).call(this,s)}reset(){const e=this._internal_unstable.subscriptions.reset();this._internal_unstable.staleManager.reset(),this._internal_unstable.lifetimes.reset(),this._internal_unstable.lists.reset(),this._internal_unstable.storage.reset(),de(this,qe,Ue).call(this,e)}}qe=new WeakSet,Ue=function(e){var s;if(e.length===0)return;const t=[];for(const i of e)t.includes(i.set)||(t.push(i.set),i.set(this._internal_unstable.getSelection({parent:i.parentID||_e,selection:i.selection,variables:((s=i.variables)==null?void 0:s.call(i))||{},ignoreMasking:!1}).data))};class Ts{constructor({storage:e,subscriptions:t,lists:s,cache:i,lifetimes:n,staleManager:a,disabled:l,config:c,componentCache:o,createComponent:d}){_(this,"disabled",!1);_(this,"_config");_(this,"storage");_(this,"subscriptions");_(this,"lists");_(this,"cache");_(this,"lifetimes");_(this,"staleManager");_(this,"componentCache");_(this,"createComponent");this.storage=e,this.subscriptions=t,this.lists=s,this.cache=i,this.lifetimes=n,this.staleManager=a,this._config=c,this.componentCache=o??{},this.createComponent=d??(()=>({})),this.disabled=l;try{Is.HOUDINI_TEST==="true"&&(this.disabled=!1)}catch{}}get config(){return this._config??Ze()}setConfig(e){this._config=e}writeSelection({data:e,selection:t,variables:s={},parent:i=_e,applyUpdates:n,layer:a,toNotify:l=[],forceNotify:c,forceStale:o}){if(this.disabled)return[];let d=ve(t,e.__typename,!1);for(const[f,h]of Object.entries(e)){if(!t||!d[f])continue;let{type:b,keyRaw:g,selection:u,operations:v,abstract:S,updates:m}=d[f];const D=Je(g,s);h&&typeof h=="object"&&"__typename"in h&&h.__typename&&(b=h.__typename);const N=this.subscriptions.get(i,D),re=N.map(y=>y[0]),{value:R,displayLayers:le}=this.storage.get(i,D),te=a.isDisplayLayer(le);if(te&&(this.lifetimes.resetLifetime(i,D),o?this.staleManager.markFieldStale(i,D):this.staleManager.setFieldTimeToNow(i,D)),u){if(h===null){if(R===null)continue;const y=me([R]);for(const F of y)this.subscriptions.remove(F,u,re,s);a.writeLink(i,D,null),l.push(...N)}else if(h instanceof Object&&!Array.isArray(h)){if(S&&!h.__typename)throw new Error("Encountered interface type without __typename in the payload");let y=null;h!==null&&(y=this.isEmbedded(b,h)?`${i}.${D}`:this.id(b,h));let F=y!==R;a.writeLink(i,D,y),y&&te&&(F||c)&&(R&&typeof R=="string"&&this.subscriptions.remove(R,u,re,s),this.subscriptions.addMany({parent:y,subscribers:N,variables:s,parentType:b}),l.push(...N)),y&&this.writeSelection({selection:u,parent:y,data:h,variables:s,toNotify:l,applyUpdates:n,layer:a,forceNotify:c})}else if(Array.isArray(h)&&(typeof R>"u"||R===null||Array.isArray(R))){let y=[...R||[]];const F=m?y.map(O=>{if(!O)return"";const{value:Q}=this.storage.get(O,"cursor");if(Q)return"";const{value:J}=this.storage.get(O,"node");return J||""}):[];let H=[];const{newIDs:B,nestedIDs:G}=this.extractNestedListIDs({value:h,abstract:!!S,specs:l,applyUpdates:n,recordID:i,key:D,linkedType:b,variables:s,fields:u,layer:a,forceNotify:c});if(n&&m){if(D==="edges"){const O=[];for(const Q of B){if(!Q)continue;const{value:J}=this.storage.get(Q,"node");typeof J=="string"&&(!J||!this.storage.get(J,"__typename")||O.push(J))}y=y.filter(Q=>{if(!Q)return!0;const{value:J}=this.storage.get(Q,"node"),P=J;return!(O.includes(P)&&F.includes(P))})}for(const O of n)O!=="replace"&&!m.includes(O)||(O==="prepend"?H=B.concat(y):O==="append"?H=y.concat(B):O==="replace"&&(H=B))}else H=G;const se=!et(H,y)||R===null;(se||c)&&l.push(...N);for(const O of y)H.includes(O)||!O||this.subscriptions.remove(O,u,re,s);(se||y.length===0&&B.length===0)&&a.writeLink(i,D,H);for(const O of B.filter(Q=>!y.includes(Q)))O!=null&&this.subscriptions.addMany({parent:O,subscribers:N,variables:s,parentType:b})}}else{let y=h;if(m&&n&&Array.isArray(h))for(const H of n)m.includes(H)&&(H==="append"?y=(R||[]).concat(h):H==="prepend"&&(y=h.concat(R||[])));(m&&(n!=null&&n.includes("prepend"))&&["endCursor","hasNextPage"].includes(D)||m&&(n!=null&&n.includes("append"))&&["startCursor","hasPreviousPage"].includes(D))&&(y=R);const F=!et(y,R);te&&(F||c)&&l.push(...N),a.writeField(i,D,y)}for(const y of v||[]){let F;if(y.parentID)if(y.parentID.kind!=="Variable")F=y.parentID.value;else{const B=s[y.parentID.value];if(typeof B!="string")throw new Error("parentID value must be a string");F=B}if(y.list&&!this.lists.get(y.list,F,y.target==="all"))continue;const H=Array.isArray(h)?h:[h];for(const B of H)if(y.action==="insert"&&B instanceof Object&&u&&y.list)this.cache.list(y.list,F,y.target==="all").when(y.when).addToList(u,B,s,y.position||"last",a);else if(y.action==="toggle"&&B instanceof Object&&u&&y.list)this.cache.list(y.list,F,y.target==="all").when(y.when).toggleElement({selection:u,data:B,variables:s,where:y.position||"last",layer:a});else if(y.action==="remove"&&B instanceof Object&&u&&y.list)this.cache.list(y.list,F,y.target==="all").when(y.when).remove(B,s,a);else if(y.action==="delete"&&y.type&&B){const G=this.id(y.type,B);if(!G)continue;this.cache.delete(G,a)}}}return l}getSelection({selection:e,parent:t=_e,variables:s,stepsFromConnection:i=null,ignoreMasking:n,fullCheck:a=!1,loading:l}){var u,v,S;if(t===null)return{data:null,partial:!1,stale:!1,hasData:!0};const c={};e.fragments&&(c[yt]={loading:!!l,values:Object.fromEntries(Object.entries(e.fragments).filter(([,m])=>!l||m.loading).map(([m,D])=>[m,{parent:t,variables:xe(D.arguments,s??{})}]))});let o=!!e.fragments,d=!1,f=!1,h=!1;const b=this.storage.get(t,"__typename").value;let g=ve(e,b,!!l);for(const[m,{type:D,keyRaw:N,selection:re,nullable:R,list:le,visible:te,directives:y,loading:F,abstractHasRequired:H,component:B}]of Object.entries(g)){if(!te&&!n&&!a)continue;const G=y==null?void 0:y.find(M=>M.name==="include");if(G&&!xe(G.arguments,s??{}).if)continue;const se=y==null?void 0:y.find(M=>M.name==="skip");if(se&&xe(se.arguments,s??{}).if)continue;const O=te||n?c:{},Q=Je(N,s);if(l&&!F)continue;const J=B?Es({cache:this.cache,component:B,variables:s,parent:t}):void 0;let{value:P}=this.storage.get(t,Q,J);this.staleManager.getFieldTime(t,Q)===null&&(h=!0),l&&(P=void 0);let X=i;X!==null&&(X>=2?X=null:X+=1),le!=null&&le.connection&&(X=0);const K=Q==="cursor"&&i===1;if(typeof P>"u"&&!K&&(d=!0),l&&(F==null?void 0:F.kind)==="value")O[m]=us,o=!0;else if(!l&&typeof P>"u"||P===null)O[m]=null,typeof P<"u"&&(o=!0);else if(re)if(Array.isArray(P)){const M=this.hydrateNestedList({fields:re,variables:s,linkedList:P,stepsFromConnection:X,ignoreMasking:!!n,fullCheck:a,loading:l,nullable:!!R});O[m]=M.data,M.partial&&(d=!0),M.cascadeNull&&(f=!0),M.stale&&(h=!0),(M.hasData||P.length===0)&&(o=!0)}else{const M=this.getSelection({parent:P,selection:re,variables:s,stepsFromConnection:X,ignoreMasking:n,fullCheck:a,loading:l});O[m]=M.data,M.partial&&(d=!0),M.stale&&(h=!0),M.hasData&&(o=!0)}else{const M=(S=(v=(u=this.config)==null?void 0:u.scalars)==null?void 0:v[D])==null?void 0:S.unmarshal;M?O[m]=M(P):O[m]=P,o=!0}l&&(F!=null&&F.list)&&(O[m]=Jt(Array.from({length:F.list.count}).fill(O[m]),F.list.depth-1)),O[m]===null&&!R&&!K&&(H?c[m]={__typename:"@required field missing; don't match this"}:f=!0)}return{data:f?null:c,partial:!l&&o&&d,stale:o&&h,hasData:o}}id(e,t){const s=typeof t=="object"?this.computeID(e,t):t;return s?e?e+":"+s:s:null}idFields(e){return Ht(this.config,e)}computeID(e,t){return ls(this.config,e,t)}isEmbedded(e,t){const s=this.idFields(e);return s.length===0||s.filter(i=>typeof t[i]>"u").length>0}hydrateNestedList({fields:e,variables:t,linkedList:s,stepsFromConnection:i,ignoreMasking:n,fullCheck:a,loading:l,nullable:c}){const o=[];let d=!1,f=!1,h=!1,b=!1;for(const g of s){if(Array.isArray(g)){const D=this.hydrateNestedList({fields:e,nullable:c,variables:t,linkedList:g,stepsFromConnection:i,ignoreMasking:n,fullCheck:a,loading:l});o.push(D.data),D.partial&&(d=!0),D.cascadeNull&&(b=!0);continue}if(g===null){o.push(g);continue}const{data:u,partial:v,stale:S,hasData:m}=this.getSelection({parent:g,selection:e,variables:t,stepsFromConnection:i,ignoreMasking:n,fullCheck:a,loading:l});u===null&&!c&&(b=!0),o.push(u),v&&(d=!0),S&&(f=!0),m&&(h=!0)}return{data:o,partial:d,stale:f,hasData:h,cascadeNull:b}}extractNestedListIDs({value:e,abstract:t,recordID:s,key:i,linkedType:n,fields:a,variables:l,applyUpdates:c,specs:o,layer:d,forceNotify:f}){const h=[],b=[];for(const[g,u]of e.entries()){if(Array.isArray(u)){const N=this.extractNestedListIDs({value:u,abstract:t,recordID:s,key:i,linkedType:n,fields:a,variables:l,applyUpdates:c,specs:o,layer:d,forceNotify:f});b.push(...N.newIDs),h[g]=N.nestedIDs;continue}if(u===null||typeof u>"u"){b.push(null),h[g]=null;continue}const v=u;let S=`${s}.${i}[${this.storage.nextRank}]`,m=n;const D=v.__typename;if(D)m=D;else if(t)throw new Error("Encountered interface type without __typename in the payload");if(!this.isEmbedded(n,u)){const N=this.id(m,u);if(N)S=N;else continue}this.writeSelection({root:_e,selection:a,parent:S,data:v,variables:l,toNotify:o,applyUpdates:c,layer:d,forceNotify:f}),b.push(S),h[g]=S}return{newIDs:b,nestedIDs:h}}collectGarbage(){this.lifetimes.tick(),this.storage.layerCount===1&&this.storage.topLayer.removeUndefinedFields()}}function xe(r,e){return Object.fromEntries(Object.entries(r).map(([t,s])=>[t,ft(s,e)]))}function Jt(r,e=0){return e===0?r:Jt([r],e-1)}function ft(r,e){if(r.kind==="StringValue"||r.kind==="BooleanValue"||r.kind==="EnumValue")return r.value;if(r.kind==="FloatValue")return parseFloat(r.value);if(r.kind==="IntValue")return parseInt(r.value,10);if(r.kind==="NullValue")return null;if(r.kind==="Variable")return e[r.name.value];if(r.kind==="ListValue")return r.values.map(t=>ft(t,e));if(r.kind==="ObjectValue")return r.fields.reduce((t,s)=>({...t,[s.name.value]:ft(s.value,e)}),{})}const _e="_ROOT_";function Es({cache:r,component:e,loading:t,variables:s,parent:i}){return n=>{const a=r._internal_unstable.componentCache[e.key],l=xe(e.variables??{},s??{});return r._internal_unstable.createComponent(a,{...n,[e.prop]:{[yt]:{loading:t,values:{[e.fragment]:{variables:l,parent:i}}}}})}}var As=new Qt;const lt=typeof globalThis.window>"u",Fs=({enabled:r,setFetching:e,cache:t=As,serverSideFallback:s=!0})=>()=>({beforeNetwork(i,{initialValue:n,next:a,resolve:l,marshalVariables:c}){var h,b;const{policy:o,artifact:d}=i;let f=!1;if(r&&(d.kind===He.Query||d.kind===He.Fragment)&&!((h=i.cacheParams)!=null&&h.disableRead)&&o!==Se.NetworkOnly&&o!==Se.NoCache){const u=t.read({selection:d.selection,variables:c(i),fullCheck:!0}),v=!u.partial||d.kind===He.Query&&d.partial;if(o===Se.CacheOnly)return l(i,{fetching:!1,variables:i.variables??null,data:v?u.data:n.data,errors:null,source:rt.Cache,partial:v?u.partial:!1,stale:u.stale});if(f=!!(u.data!==null&&v),f&&l(i,{fetching:!1,variables:i.variables??null,data:u.data,errors:null,source:rt.Cache,partial:u.partial,stale:u.stale}),f&&!u.partial&&!u.stale&&i.policy!=="CacheAndNetwork")return}if(r&&setTimeout(()=>{t._internal_unstable.collectGarbage()},0),!((b=i.stuff)!=null&&b.silenceLoading)){let g=null;!f&&"enableLoadingState"in d&&d.enableLoadingState&&(g=t.read({selection:d.selection,variables:c(i),loading:!0}).data),e(!f,g)}return a(i)},afterNetwork(i,{resolve:n,value:a,marshalVariables:l}){var c,o,d;if(i.policy!==Se.NoCache&&a.source!==rt.Cache&&r&&a.data&&!((c=i.cacheParams)!=null&&c.disableWrite)){i.cacheParams&&"serverSideFallback"in i.cacheParams&&(s=((o=i.cacheParams)==null?void 0:o.serverSideFallback)??s);const f=lt&&s?new Qt({disabled:!1}):t;let h;!lt&&((d=i.cacheParams)!=null&&d.layer)&&(h=i.cacheParams.layer.id),f.write({...i.cacheParams,layer:h,selection:i.artifact.selection,data:a.data,variables:l(i)}),a={...a,data:f.read({selection:i.artifact.selection,variables:l(i),ignoreMasking:lt}).data}}n(i,a)}}),Mt={forward:["start","beforeNetwork","network"],backwards:["end","afterNetwork"]};var Fe,Xe,be,Oe,Ke,fe,ye;class Os extends hs{constructor({artifact:t,plugins:s,pipeline:i,client:n,cache:a,enableCache:l=!0,initialValue:c,initialVariables:o,fetching:d}){d??(d=t.kind===He.Query);super({data:c??null,errors:null,partial:!1,stale:!1,source:null,fetching:d,variables:o??null},()=>()=>{Y(this,Oe,null),this.cleanup()});Z(this,fe);_(this,"artifact");Z(this,Fe,void 0);Z(this,Xe,void 0);Z(this,be,void 0);Z(this,Oe,void 0);Z(this,Ke,null);_(this,"pendingPromise",null);_(this,"serverSideFallback");this.artifact=t,Y(this,Fe,n),Y(this,Oe,null),Y(this,Xe,Ze()),Y(this,be,i??[Fs({cache:a,enabled:l,setFetching:(h,b)=>{this.update(g=>{const u={...g,fetching:h};return h&&b&&(u.data=b),u})}})(),...s??[]])}async send({metadata:t,session:s,fetch:i,variables:n,policy:a,stuff:l,cacheParams:c,setup:o=!1,silenceEcho:d=!1}={}){let f=new ht({config:I(this,Xe),name:this.artifact.name,text:this.artifact.raw,hash:this.artifact.hash,policy:a??this.artifact.policy,variables:null,metadata:t,session:s,fetch:i??this.getFetch(()=>s),stuff:{inputs:{changed:!1,init:!1,marshaled:{}},...l},artifact:this.artifact,lastVariables:I(this,Oe),cacheParams:c});const h=f.draft();h.variables=n??null,f=f.apply(h,!1);const b=new Promise((g,u)=>{const v={setup:o,currentStep:0,index:0,silenceEcho:d,promise:{resolved:!1,resolve:g,reject:u,then:(...S)=>b.then(...S)},context:f};this.pendingPromise===null&&(this.pendingPromise=v.promise),de(this,fe,ye).call(this,"forward",v)});return await b}async cleanup(){var t;for(const s of I(this,be))(t=s.cleanup)==null||t.call(s,I(this,Ke))}getFetch(t){return async(s,i)=>{var l;let n="",a=[];if(typeof s=="string"&&(n=s.startsWith("http")?new URL(s).pathname:s),s instanceof URL?n=s.pathname:s instanceof Request&&(n=new URL(s.url).pathname),s instanceof Request){const c=await s.json();Array.isArray(c)||(a=[c])}else{const c=JSON.parse(i==null?void 0:i.body);Array.isArray(c)||(a=[c])}if(!n||a.length===0)return await globalThis.fetch(s,i);if((l=I(this,Fe))!=null&&l.proxies[n]){const c=await Promise.all(a.map(o=>{var d;return(d=I(this,Fe))==null?void 0:d.proxies[n]({...o,session:t()})}));return new Response(JSON.stringify(c.length===1?c[0]:c))}return await globalThis.fetch(s,i)}}}Fe=new WeakMap,Xe=new WeakMap,be=new WeakMap,Oe=new WeakMap,Ke=new WeakMap,fe=new WeakSet,ye=function(t,s,i){var c;const n=t==="error"?"catch":Mt[t][s.currentStep];let a=o=>o<=I(this,be).length,l=o=>o+1;["backwards","error"].includes(t)&&(a=o=>o>=0,l=o=>o-1);for(let o=s.index;a(o);o=l(o)){let d=(c=I(this,be)[o])==null?void 0:c[n];if(!d)continue;const f=s.context.draft();let h=u=>u.variables!==f.variables;const b={initialValue:this.state,client:I(this,Fe),variablesChanged:Rs,marshalVariables:Cs,updateState:this.update.bind(this),next:u=>{const v=["forward","error"].includes(t)?o+1:o,S=["backwards","error"].includes(t)?0:s.currentStep;de(this,fe,ye).call(this,"forward",{...s,index:v,currentStep:S,context:s.context.apply(u,h(u))})},resolve:(u,v)=>{const S=t==="backwards"?o-1:o;de(this,fe,ye).call(this,"backwards",{...s,index:S,context:s.context.apply(u,h(u))},v)}};let g;t==="forward"?g=b:t==="backwards"?g={...b,value:i,resolve:(u,v)=>b.resolve(u,v??i)}:t==="error"&&(g={...b,error:i});try{const u=d(f,g);u==null||u.catch(v=>{de(this,fe,ye).call(this,"error",{...s,index:o-1},v)})}catch(u){de(this,fe,ye).call(this,"error",{...s,index:o-1},u)}return}if(t==="forward"){if(s.setup)return de(this,fe,ye).call(this,"backwards",{...s,currentStep:0,index:I(this,be).length},this.state);if(s.currentStep<=Mt.forward.length-2)return de(this,fe,ye).call(this,"forward",{...s,currentStep:s.currentStep+1,index:0});throw new Error("Called next() on last possible plugin. Your chain is missing a plugin that calls resolve().")}if(t==="error"){s.promise.resolved||(s.promise.reject(i),s.promise.resolved=!0);return}if(s.currentStep>0)return de(this,fe,ye).call(this,"backwards",{...s,currentStep:s.currentStep-1,index:I(this,be).length-1},i);(!s.silenceEcho||i.data!==this.state.data)&&this.set(i),s.promise.resolved||(s.promise.resolve(i),s.promise.resolved=!0),Y(this,Ke,s.context.draft()),Y(this,Oe,I(this,Ke).stuff.inputs.marshaled)};var Ce,We;const bt=class bt{constructor({lastVariables:e,...t}){Z(this,Ce,void 0);Z(this,We,void 0);Y(this,Ce,t),Y(this,We,e)}get variables(){return I(this,Ce).variables}draft(){const e={...I(this,Ce)},t=this.applyVariables.bind(this);return{...e,get stuff(){return e.stuff},set stuff(s){e.stuff=s},get variables(){return e.variables??null},set variables(s){Object.assign(e,t(e,{variables:s}))}}}applyVariables(e,t){var o,d;const s=e.artifact,i={...e,...t},n=t.variables;let a={};for(const[f,h]of Object.entries(n??{}))h!==((o=e.variables)==null?void 0:o[f])&&(a[f]=h);i.stuff={...i.stuff,inputs:{...i.stuff.inputs}};const l=!i.stuff.inputs||!i.stuff.inputs.init;if(Object.keys(a).length>0||l){const f={...(d=i.stuff.inputs)==null?void 0:d.marshaled,...dt({artifact:s,input:a,config:e.config})};i.stuff.inputs={init:!0,marshaled:f,changed:!0},i.variables=n}return i.stuff={...i.stuff,inputs:{...i.stuff.inputs,changed:!et(i.stuff.inputs.marshaled,I(this,We))}},i}apply(e,t){return t&&(e=this.applyVariables(I(this,Ce),e)),new bt({...e,lastVariables:I(this,We)})}};Ce=new WeakMap,We=new WeakMap;let ht=bt;function Cs(r){var e;return((e=r.stuff.inputs)==null?void 0:e.marshaled)??{}}function Rs(r){var e;return(e=r.stuff.inputs)==null?void 0:e.changed}var Re,Qe,De,Be,Le;class Bs{constructor(e){Z(this,Re,void 0);Z(this,Qe,void 0);Z(this,De,null);Z(this,Be,null);Z(this,Le,0);typeof e.initialize>"u"&&(e.initialize=!0),Y(this,Qe,new Os({artifact:e.artifact,client:null,fetching:e.fetching,initialValue:e.initialValue})),Y(this,Re,e)}get artifact(){return I(this,Re).artifact}get name(){return this.artifact.name}get observer(){return I(this,Be)?I(this,Be):(Y(this,Be,Ct().observe(I(this,Re))),I(this,Be))}subscribe(...e){const t=I(this,Qe).subscribe(...e);return(I(this,Le)===0||!I(this,De))&&this.setup(),Y(this,Le,(I(this,Le)??0)+1),()=>{var s;Ft(this,Le)._--,I(this,Le)<=0&&((s=I(this,De))==null||s.call(this),Y(this,De,null),t())}}setup(e=!0){let t=Promise.resolve();try{Ct()}catch{t=gt()}t.then(()=>{if(!I(this,De)&&(Y(this,De,this.observer.subscribe(s=>{I(this,Qe).set(s)})),e&&I(this,Re).initialize))return this.observer.send({setup:!0,variables:ot(this.observer).variables})})}}Re=new WeakMap,Qe=new WeakMap,De=new WeakMap,Be=new WeakMap,Le=new WeakMap;class Ms extends Bs{constructor({artifact:t,storeName:s,variables:i}){var a;const n=((a=t.pluginData["houdini-svelte"])==null?void 0:a.isManualLoad)!==!0;super({artifact:t,fetching:n,initialize:!t.pluginData["houdini-svelte"].isManualLoad});_(this,"variables");_(this,"kind",ds);_(this,"loadPending",!1);_(this,"storeName");this.storeName=s,this.variables=i}async fetch(t){var S;const s=await gt();this.setup(!1);const{policy:i,params:n,context:a}=await Vs(this.artifact,this.storeName,t),l=!!("event"in n&&n.event),c=!l;if(this.loadPending&&c)return os(`⚠️ Encountered fetch from your component while ${this.storeName}.load was running.
This will result in duplicate queries. If you are trying to ensure there is always a good value, please a CachePolicy instead.`),ot(this.observer);c&&(n.blocking=!0);const d=Ze().plugins["houdini-svelte"],f=this.artifact.pluginData["houdini-svelte"];let h=!1;(s.throwOnError_operations.includes("all")||s.throwOnError_operations.includes("query"))&&d.defaultRouteBlocking===!1&&cs('[Houdini] ⚠️ throwOnError with operation "all" or "query", is not compatible with defaultRouteBlocking set to "false"'),d.defaultRouteBlocking===!0&&(h=!0),(s.throwOnError_operations.includes("all")||s.throwOnError_operations.includes("query"))&&(h=!0),(f==null?void 0:f.set_blocking)===!0?h=!0:(f==null?void 0:f.set_blocking)===!1&&(h=!1),(n==null?void 0:n.blocking)===!0?h=!0:(n==null?void 0:n.blocking)===!1&&(h=!1),l&&(this.loadPending=!0),this.artifact.enableLoadingState&&(h=!1);const b=Ut&&xt&&!h,g={...(S=this.artifact.input)==null?void 0:S.defaults,...n.variables};i!==Se.NetworkOnly&&i!==Se.NoCache&&b&&await this.observer.send({fetch:a.fetch,variables:g,metadata:n.metadata,session:a.session,policy:Se.CacheOnly,silenceEcho:!0});const v=this.observer.send({fetch:a.fetch,variables:g,metadata:n.metadata,session:a.session,policy:i,stuff:{}});return v.then(m=>{var D;this.loadPending=!1,(D=n.then)==null||D.call(n,m.data)}).catch(()=>{}),b||await v,ot(this.observer)}}async function Vs(r,e,t){let s=t==null?void 0:t.policy;!s&&r.kind===He.Query&&(s=r.policy??Se.CacheOrNetwork);let i=null;t&&("fetch"in t&&t.fetch?i=t.fetch:"event"in t&&t.event&&"fetch"in t.event&&(i=t.event.fetch)),i||(i=globalThis.fetch.bind(globalThis));let n;return t&&"event"in t&&t.event?n=await Ot(t.event):n=await Ot(),{context:{fetch:i,metadata:(t==null?void 0:t.metadata)??{},session:n},policy:s,params:t??{}}}const Ps={name:"Loans",kind:"HoudiniQuery",hash:"4315ffa213d59b56e2c3dd3868f690792901dac4b618eebeb31b1d6f0f01af46",raw:`query Loans {
  loans(orderBy: createdDate, orderDirection: desc) {
    id
    borrower {
      id
    }
    lender {
      id
    }
    expiration
    status
    collateral {
      id
      category
      token {
        name
        symbol
        decimals
        id
      }
    }
    collateralAmount
    collateralTokenId
    borrowAsset {
      id
      category
      token {
        name
        symbol
        decimals
        id
      }
    }
    loanPaidBackEvents {
      transactionHash
      id
    }
    borrowAmount
    repayAmount
    createdDate
    repaidDate
  }
  mostBorrowed: accounts(orderBy: totalBorrowedLoans, orderDirection: desc) {
    id
    totalLendedLoans
    totalBorrowedLoans
  }
  mostLended: accounts(orderBy: totalLendedLoans, orderDirection: desc) {
    id
    totalLendedLoans
    totalBorrowedLoans
  }
}
`,rootType:"Query",selection:{fields:{loans:{type:"Loan",keyRaw:"loans(orderBy: createdDate, orderDirection: desc)",selection:{fields:{id:{type:"ID",keyRaw:"id",visible:!0},borrower:{type:"Account",keyRaw:"borrower",selection:{fields:{id:{type:"Bytes",keyRaw:"id",visible:!0}}},visible:!0},lender:{type:"Account",keyRaw:"lender",selection:{fields:{id:{type:"Bytes",keyRaw:"id",visible:!0}}},visible:!0},expiration:{type:"BigInt",keyRaw:"expiration",visible:!0},status:{type:"LoanStatus",keyRaw:"status",visible:!0},collateral:{type:"Asset",keyRaw:"collateral",selection:{fields:{id:{type:"Bytes",keyRaw:"id",visible:!0},category:{type:"AssetCategory",keyRaw:"category",visible:!0},token:{type:"Token",keyRaw:"token",nullable:!0,selection:{fields:{name:{type:"String",keyRaw:"name",visible:!0},symbol:{type:"String",keyRaw:"symbol",visible:!0},decimals:{type:"Int",keyRaw:"decimals",visible:!0},id:{type:"Bytes",keyRaw:"id",visible:!0}}},visible:!0}}},visible:!0},collateralAmount:{type:"BigInt",keyRaw:"collateralAmount",nullable:!0,visible:!0},collateralTokenId:{type:"BigInt",keyRaw:"collateralTokenId",nullable:!0,visible:!0},borrowAsset:{type:"Asset",keyRaw:"borrowAsset",selection:{fields:{id:{type:"Bytes",keyRaw:"id",visible:!0},category:{type:"AssetCategory",keyRaw:"category",visible:!0},token:{type:"Token",keyRaw:"token",nullable:!0,selection:{fields:{name:{type:"String",keyRaw:"name",visible:!0},symbol:{type:"String",keyRaw:"symbol",visible:!0},decimals:{type:"Int",keyRaw:"decimals",visible:!0},id:{type:"Bytes",keyRaw:"id",visible:!0}}},visible:!0}}},visible:!0},loanPaidBackEvents:{type:"LoanPaidBackEvent",keyRaw:"loanPaidBackEvents",selection:{fields:{transactionHash:{type:"Bytes",keyRaw:"transactionHash",visible:!0},id:{type:"Bytes",keyRaw:"id",visible:!0}}},visible:!0},borrowAmount:{type:"BigDecimal",keyRaw:"borrowAmount",visible:!0},repayAmount:{type:"BigDecimal",keyRaw:"repayAmount",visible:!0},createdDate:{type:"BigInt",keyRaw:"createdDate",visible:!0},repaidDate:{type:"BigInt",keyRaw:"repaidDate",nullable:!0,visible:!0}}},visible:!0},mostBorrowed:{type:"Account",keyRaw:"mostBorrowed(orderBy: totalBorrowedLoans, orderDirection: desc)",selection:{fields:{id:{type:"Bytes",keyRaw:"id",visible:!0},totalLendedLoans:{type:"BigInt",keyRaw:"totalLendedLoans",visible:!0},totalBorrowedLoans:{type:"BigInt",keyRaw:"totalBorrowedLoans",visible:!0}}},visible:!0},mostLended:{type:"Account",keyRaw:"mostLended(orderBy: totalLendedLoans, orderDirection: desc)",selection:{fields:{id:{type:"Bytes",keyRaw:"id",visible:!0},totalLendedLoans:{type:"BigInt",keyRaw:"totalLendedLoans",visible:!0},totalBorrowedLoans:{type:"BigInt",keyRaw:"totalBorrowedLoans",visible:!0}}},visible:!0}}},pluginData:{"houdini-svelte":{}},policy:"CacheOrNetwork",partial:!1};class js extends Ms{constructor(){super({artifact:Ps,storeName:"LoansStore",variables:!1})}}async function $s(r){await gt();const e=new js;return await e.fetch(r),{Loans:e}}async function zs(r){const e=new es(r);Ze();const t=[],s={};s.Loans={},t.push($s({variables:s.Loans,event:r,blocking:void 0}));let i={};try{i=Object.assign({},...await Promise.all(t))}catch(n){throw n}return{...e.returnValue,...i}}const Gs=Object.freeze(Object.defineProperty({__proto__:null,load:zs},Symbol.toStringTag,{value:"Module"}));function Vt(r,e,t){const s=r.slice();return s[4]=e[t],s}function Pt(r,e,t){const s=r.slice();return s[4]=e[t],s}function jt(r,e,t){const s=r.slice();return s[9]=e[t],s}function $t(r){var Ae;let e,t,s=r[2](r[9].createdDate)+"",i,n,a,l=r[2](r[9].expiration)+"",c,o,d,f=r[9].status+"",h,b,g,u=r[2](r[9].repaidDate)+"",v,S,m,D=r[9].id+"",N,re,R,le=((Ae=r[9].borrowAsset.token)==null?void 0:Ae.symbol)+"",te,y,F,H=r[9].borrowAmount+"",B,G,se,O=(r[9].repayAmount-r[9].borrowAmount).toFixed(2)+"",Q,J,P,q=r[9].collateral.category+"",X,K,M,W=(r[9].collateralAmount??"-")+"",Te,Me,we,w=(r[9].collateralTokenId??"-")+"",ie,z,ce,ue=r[9].lender.id+"",k,oe,he,pe=r[9].borrower.id+"",Ee,Ve;return{c(){e=T("tr"),t=T("td"),i=U(s),n=j(),a=T("td"),c=U(l),o=j(),d=T("td"),h=U(f),b=j(),g=T("td"),v=U(u),S=j(),m=T("td"),N=U(D),re=j(),R=T("td"),te=U(le),y=j(),F=T("td"),B=U(H),G=j(),se=T("td"),Q=U(O),J=j(),P=T("td"),X=U(q),K=j(),M=T("td"),Te=U(W),Me=j(),we=T("td"),ie=U(w),z=j(),ce=T("td"),k=U(ue),oe=j(),he=T("td"),Ee=U(pe),Ve=j(),this.h()},l(V){e=E(V,"TR",{});var L=C(e);t=E(L,"TD",{class:!0});var ae=C(t);i=x(ae,s),ae.forEach(A),n=$(L),a=E(L,"TD",{class:!0});var mt=C(a);c=x(mt,l),mt.forEach(A),o=$(L),d=E(L,"TD",{});var _t=C(d);h=x(_t,f),_t.forEach(A),b=$(L),g=E(L,"TD",{class:!0});var wt=C(g);v=x(wt,u),wt.forEach(A),S=$(L),m=E(L,"TD",{});var vt=C(m);N=x(vt,D),vt.forEach(A),re=$(L),R=E(L,"TD",{});var kt=C(R);te=x(kt,le),kt.forEach(A),y=$(L),F=E(L,"TD",{});var Dt=C(F);B=x(Dt,H),Dt.forEach(A),G=$(L),se=E(L,"TD",{});var Lt=C(se);Q=x(Lt,O),Lt.forEach(A),J=$(L),P=E(L,"TD",{});var St=C(P);X=x(St,q),St.forEach(A),K=$(L),M=E(L,"TD",{});var It=C(M);Te=x(It,W),It.forEach(A),Me=$(L),we=E(L,"TD",{});var Tt=C(we);ie=x(Tt,w),Tt.forEach(A),z=$(L),ce=E(L,"TD",{});var Et=C(ce);k=x(Et,ue),Et.forEach(A),oe=$(L),he=E(L,"TD",{});var At=C(he);Ee=x(At,pe),At.forEach(A),Ve=$(L),L.forEach(A),this.h()},h(){ne(t,"class","whitespace-nowrap"),ne(a,"class","whitespace-nowrap"),ne(g,"class","whitespace-nowrap")},m(V,L){Ne(V,e,L),p(e,t),p(t,i),p(e,n),p(e,a),p(a,c),p(e,o),p(e,d),p(d,h),p(e,b),p(e,g),p(g,v),p(e,S),p(e,m),p(m,N),p(e,re),p(e,R),p(R,te),p(e,y),p(e,F),p(F,B),p(e,G),p(e,se),p(se,Q),p(e,J),p(e,P),p(P,X),p(e,K),p(e,M),p(M,Te),p(e,Me),p(e,we),p(we,ie),p(e,z),p(e,ce),p(ce,k),p(e,oe),p(e,he),p(he,Ee),p(e,Ve)},p(V,L){var ae;L&2&&s!==(s=V[2](V[9].createdDate)+"")&&ee(i,s),L&2&&l!==(l=V[2](V[9].expiration)+"")&&ee(c,l),L&2&&f!==(f=V[9].status+"")&&ee(h,f),L&2&&u!==(u=V[2](V[9].repaidDate)+"")&&ee(v,u),L&2&&D!==(D=V[9].id+"")&&ee(N,D),L&2&&le!==(le=((ae=V[9].borrowAsset.token)==null?void 0:ae.symbol)+"")&&ee(te,le),L&2&&H!==(H=V[9].borrowAmount+"")&&ee(B,H),L&2&&O!==(O=(V[9].repayAmount-V[9].borrowAmount).toFixed(2)+"")&&ee(Q,O),L&2&&q!==(q=V[9].collateral.category+"")&&ee(X,q),L&2&&W!==(W=(V[9].collateralAmount??"-")+"")&&ee(Te,W),L&2&&w!==(w=(V[9].collateralTokenId??"-")+"")&&ee(ie,w),L&2&&ue!==(ue=V[9].lender.id+"")&&ee(k,ue),L&2&&pe!==(pe=V[9].borrower.id+"")&&ee(Ee,pe)},d(V){V&&A(e)}}}function zt(r){let e,t,s=r[4].id+"",i,n,a,l=r[4].totalBorrowedLoans+"",c,o,d,f=r[4].totalLendedLoans+"",h,b;return{c(){e=T("tr"),t=T("td"),i=U(s),n=j(),a=T("td"),c=U(l),o=j(),d=T("td"),h=U(f),b=j(),this.h()},l(g){e=E(g,"TR",{class:!0});var u=C(e);t=E(u,"TD",{});var v=C(t);i=x(v,s),v.forEach(A),n=$(u),a=E(u,"TD",{});var S=C(a);c=x(S,l),S.forEach(A),o=$(u),d=E(u,"TD",{});var m=C(d);h=x(m,f),m.forEach(A),b=$(u),u.forEach(A),this.h()},h(){ne(e,"class","hover")},m(g,u){Ne(g,e,u),p(e,t),p(t,i),p(e,n),p(e,a),p(a,c),p(e,o),p(e,d),p(d,h),p(e,b)},p(g,u){u&2&&s!==(s=g[4].id+"")&&ee(i,s),u&2&&l!==(l=g[4].totalBorrowedLoans+"")&&ee(c,l),u&2&&f!==(f=g[4].totalLendedLoans+"")&&ee(h,f)},d(g){g&&A(e)}}}function Nt(r){let e,t,s=r[4].id+"",i,n,a,l=r[4].totalBorrowedLoans+"",c,o,d,f=r[4].totalLendedLoans+"",h,b;return{c(){e=T("tr"),t=T("td"),i=U(s),n=j(),a=T("td"),c=U(l),o=j(),d=T("td"),h=U(f),b=j(),this.h()},l(g){e=E(g,"TR",{class:!0});var u=C(e);t=E(u,"TD",{});var v=C(t);i=x(v,s),v.forEach(A),n=$(u),a=E(u,"TD",{});var S=C(a);c=x(S,l),S.forEach(A),o=$(u),d=E(u,"TD",{});var m=C(d);h=x(m,f),m.forEach(A),b=$(u),u.forEach(A),this.h()},h(){ne(e,"class","hover")},m(g,u){Ne(g,e,u),p(e,t),p(t,i),p(e,n),p(e,a),p(a,c),p(e,o),p(e,d),p(d,h),p(e,b)},p(g,u){u&2&&s!==(s=g[4].id+"")&&ee(i,s),u&2&&l!==(l=g[4].totalBorrowedLoans+"")&&ee(c,l),u&2&&f!==(f=g[4].totalLendedLoans+"")&&ee(h,f)},d(g){g&&A(e)}}}function Ns(r){var Te,Me,we;let e,t,s,i="Loans",n,a,l,c="<tr><th>Creation Date</th> <th>Expiration Date</th> <th>Status</th> <th>Repaid Date</th> <th>Loan ID</th> <th>Loan Asset</th> <th>Loan Amount</th> <th>Loan Yield</th> <th>Collateral Category</th> <th>Collateral Amount</th> <th>Token ID</th> <th>Lender</th> <th>Borrower</th></tr>",o,d,f,h,b,g,u,v="Most borrowed",S,m,D,N="<th>Account</th> <th>Total Borrowed</th> <th>Total Lended</th>",re,R,le,te,y,F,H="Most Lended",B,G,se,O="<th>Account</th> <th>Total Borrowed</th> <th>Total Lended</th>",Q,J,P=je(((Te=r[1].data)==null?void 0:Te.loans)??[]),q=[];for(let w=0;w<P.length;w+=1)q[w]=$t(jt(r,P,w));let X=je(((Me=r[1].data)==null?void 0:Me.mostBorrowed)??[]),K=[];for(let w=0;w<X.length;w+=1)K[w]=zt(Pt(r,X,w));let M=je(((we=r[1].data)==null?void 0:we.mostLended)??[]),W=[];for(let w=0;w<M.length;w+=1)W[w]=Nt(Vt(r,M,w));return{c(){e=T("div"),t=T("div"),s=T("h2"),s.textContent=i,n=j(),a=T("table"),l=T("thead"),l.innerHTML=c,o=j(),d=T("tbody");for(let w=0;w<q.length;w+=1)q[w].c();f=j(),h=T("div"),b=T("div"),g=T("div"),u=T("h2"),u.textContent=v,S=j(),m=T("table"),D=T("thead"),D.innerHTML=N,re=j(),R=T("tbody");for(let w=0;w<K.length;w+=1)K[w].c();le=j(),te=T("div"),y=T("div"),F=T("h2"),F.textContent=H,B=j(),G=T("table"),se=T("thead"),se.innerHTML=O,Q=j(),J=T("tbody");for(let w=0;w<W.length;w+=1)W[w].c();this.h()},l(w){e=E(w,"DIV",{class:!0});var ie=C(e);t=E(ie,"DIV",{class:!0});var z=C(t);s=E(z,"H2",{class:!0,"data-svelte-h":!0}),Pe(s)!=="svelte-irx66t"&&(s.textContent=i),n=$(z),a=E(z,"TABLE",{class:!0});var ce=C(a);l=E(ce,"THEAD",{"data-svelte-h":!0}),Pe(l)!=="svelte-11opxe9"&&(l.innerHTML=c),o=$(ce),d=E(ce,"TBODY",{});var ue=C(d);for(let ae=0;ae<q.length;ae+=1)q[ae].l(ue);ue.forEach(A),ce.forEach(A),z.forEach(A),ie.forEach(A),f=$(w),h=E(w,"DIV",{class:!0});var k=C(h);b=E(k,"DIV",{class:!0});var oe=C(b);g=E(oe,"DIV",{class:!0});var he=C(g);u=E(he,"H2",{class:!0,"data-svelte-h":!0}),Pe(u)!=="svelte-129te5z"&&(u.textContent=v),S=$(he),m=E(he,"TABLE",{class:!0});var pe=C(m);D=E(pe,"THEAD",{"data-svelte-h":!0}),Pe(D)!=="svelte-k10z8i"&&(D.innerHTML=N),re=$(pe),R=E(pe,"TBODY",{});var Ee=C(R);for(let ae=0;ae<K.length;ae+=1)K[ae].l(Ee);Ee.forEach(A),pe.forEach(A),he.forEach(A),oe.forEach(A),le=$(k),te=E(k,"DIV",{class:!0});var Ve=C(te);y=E(Ve,"DIV",{class:!0});var Ae=C(y);F=E(Ae,"H2",{class:!0,"data-svelte-h":!0}),Pe(F)!=="svelte-grnn2f"&&(F.textContent=H),B=$(Ae),G=E(Ae,"TABLE",{class:!0});var V=C(G);se=E(V,"THEAD",{"data-svelte-h":!0}),Pe(se)!=="svelte-k10z8i"&&(se.innerHTML=O),Q=$(V),J=E(V,"TBODY",{});var L=C(J);for(let ae=0;ae<W.length;ae+=1)W[ae].l(L);L.forEach(A),V.forEach(A),Ae.forEach(A),Ve.forEach(A),k.forEach(A),this.h()},h(){ne(s,"class","card-title"),ne(a,"class","table table-xs table-zebra"),ne(t,"class","card-body"),ne(e,"class","card basis-1/2 rounded-lg border-2 m-5 overflow-x-auto"),ne(u,"class","card-title"),ne(m,"class","table table-xs"),ne(g,"class","card-body"),ne(b,"class","card basis-1/2 rounded-lg border-2 m-5"),ne(F,"class","card-title"),ne(G,"class","table table-xs"),ne(y,"class","card-body"),ne(te,"class","card basis-1/2 rounded-lg border-2 m-5"),ne(h,"class","flex")},m(w,ie){Ne(w,e,ie),p(e,t),p(t,s),p(t,n),p(t,a),p(a,l),p(a,o),p(a,d);for(let z=0;z<q.length;z+=1)q[z]&&q[z].m(d,null);Ne(w,f,ie),Ne(w,h,ie),p(h,b),p(b,g),p(g,u),p(g,S),p(g,m),p(m,D),p(m,re),p(m,R);for(let z=0;z<K.length;z+=1)K[z]&&K[z].m(R,null);p(h,le),p(h,te),p(te,y),p(y,F),p(y,B),p(y,G),p(G,se),p(G,Q),p(G,J);for(let z=0;z<W.length;z+=1)W[z]&&W[z].m(J,null)},p(w,[ie]){var z,ce,ue;if(ie&6){P=je(((z=w[1].data)==null?void 0:z.loans)??[]);let k;for(k=0;k<P.length;k+=1){const oe=jt(w,P,k);q[k]?q[k].p(oe,ie):(q[k]=$t(oe),q[k].c(),q[k].m(d,null))}for(;k<q.length;k+=1)q[k].d(1);q.length=P.length}if(ie&2){X=je(((ce=w[1].data)==null?void 0:ce.mostBorrowed)??[]);let k;for(k=0;k<X.length;k+=1){const oe=Pt(w,X,k);K[k]?K[k].p(oe,ie):(K[k]=zt(oe),K[k].c(),K[k].m(R,null))}for(;k<K.length;k+=1)K[k].d(1);K.length=X.length}if(ie&2){M=je(((ue=w[1].data)==null?void 0:ue.mostLended)??[]);let k;for(k=0;k<M.length;k+=1){const oe=Vt(w,M,k);W[k]?W[k].p(oe,ie):(W[k]=Nt(oe),W[k].c(),W[k].m(J,null))}for(;k<W.length;k+=1)W[k].d(1);W.length=M.length}},i:ct,o:ct,d(w){w&&(A(e),A(f),A(h)),it(q,w),it(K,w),it(W,w)}}}function Hs(r,e,t){let s,i,n=ct,a=()=>(n(),n=Zt(s,o=>t(1,i=o)),s);r.$$.on_destroy.push(()=>n());let{data:l}=e;const c=o=>o?new Date(o*1e3).toLocaleString():"-";return r.$$set=o=>{"data"in o&&t(3,l=o.data)},r.$$.update=()=>{r.$$.dirty&8&&a(t(0,{Loans:s}=l,s))},[s,i,c,l]}class Xs extends ss{constructor(e){super(),is(this,e,Hs,Ns,Xt,{data:3})}}export{He as A,rt as D,Xs as P,Gs as _,Os as a,As as c,et as d,me as f,Ze as g,Ys as l,Rt as m};
